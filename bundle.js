var h=class{destroy(){throw new Error("Method not implemented.")}update(){throw new Error("Method not implemented.")}};function c(d,t,e){return(1-e)*d+e*t}var l=Math.PI/180;var i=class{constructor(t,e,s,r){this.r=255;this.g=255;this.b=255;this.a=1;this.r=t??0,this.g=e??0,this.b=s??0,this.a=r??1}static random(){return new i(Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255),1)}lerp(t,e){return new i(Math.round(c(this.r,t.r,e)),Math.round(c(this.g,t.g,e)),Math.round(c(this.b,t.g,e)))}invert(){return new i(255-this.r,255-this.g,255-this.b)}shade(t){return new i(Math.floor(this.r*(1-t)),Math.floor(this.g*(1-t)),Math.floor(this.b*(1-t)))}static fromString(t){if(!t.startsWith("#"))throw new Error("Color.fromString expects a string in the `#RRGGBB(AA)?` format.");let e=t.substring(1).split(""),s=new i(parseInt(e[0]+e[1],16),parseInt(e[2]+e[3],16),parseInt(e[4]+e[5],16));return e.length==8&&(s.a=parseInt(e[6]+e[7],16)),s}toString(){return`#${this.r.toString(16).padStart(2,"0")}${this.g.toString(16).padStart(2,"0")}${this.b.toString(16).padStart(2,"0")}${(this.a*255).toString(16).padStart(2,"0")}`}},n=i;n.red=new i(255,0,0),n.blue=new i(0,255,0),n.green=new i(0,0,255),n.black=new i(0,0,0,1),n.white=new i(255,255,255);var p=class{get width(){return this.canvas.width}get height(){return this.canvas.height}constructor(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),window.addEventListener("resize",()=>this.resize()),this.resize()}background(t){typeof t=="string"&&(t=n.fromString(t)),this.ctx.fillStyle=t.toString(),this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fill()}arc(t,e=90,s=0,r=16,m=n.white){this.ctx.beginPath(),this.ctx.lineCap="round",this.ctx.lineWidth=r,this.ctx.strokeStyle=m.toString(),this.ctx.arc(this.canvas.width/2,this.canvas.height/2,t,(s-e/2)*l,(s+e/2)*l),this.ctx.stroke(),this.ctx.closePath()}text(t,e=0,s=0,r=n.black,m=16){console.log(r.toString()),this.ctx.strokeStyle=r.toString(),this.ctx.fillStyle=r.toString(),this.ctx.font=`${m}px sans-serif`,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(t,e,s)}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}};var u=class{static initialize(){window.addEventListener("keydown",t=>this.handleKeyDown(t)),window.addEventListener("keyup",t=>this.handleKeyUp(t))}static handleKeyDown(t){this.pressedKeys.add(t.key),this.modifiers.ctrl=t.ctrlKey,this.modifiers.shift=t.shiftKey,this.modifiers.meta=t.metaKey,this.modifiers.alt=t.altKey}static handleKeyUp(t){this.pressedKeys.delete(t.key),this.modifiers.ctrl=t.ctrlKey,this.modifiers.shift=t.shiftKey,this.modifiers.meta=t.metaKey,this.modifiers.alt=t.altKey,t.preventDefault()}static isDown(t,e){if(e){for(let[s,r]of Object.entries(e))if(this.modifiers[s]!==r)return!1}return this.pressedKeys.has(t)}static{u.initialize()}},a=u;a.pressedKeys=new Set,a.modifiers={ctrl:!1,shift:!1,meta:!1,alt:!1};var f=class{static get paused(){return this._paused}static set paused(t){this._paused=t,this._paused||requestAnimationFrame(this.loop)}static get canvas(){return this._canvas}static start(){this._canvas=new p,this.entities=[],requestAnimationFrame(this.loop)}static addComponent(...t){for(let e of t)this.components.set(e.constructor.name,e)}static getComponent(t){return typeof t=="string"?this.components.get(t):this.components.get(t.constructor.name)}static getEntities(...t){}static loop(t){for(let e of this.components.values())e.update();for(let e of this.entities)e.update();a.isDown("escape")&&(this.paused=!this.paused),this._paused||requestAnimationFrame(this.loop)}static{f.start()}},o=f;o._paused=!1;o.addComponent(new h);
